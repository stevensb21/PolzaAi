2025-09-12 02:50:43 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: main
2025-09-12 02:50:43 | INFO     | logger.py:89 | ‚ÑπÔ∏è ‚úÖ Webhook —É–¥–∞–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ
2025-09-12 04:14:26 | ERROR    | logger.py:97 | ‚ùå 
  ‚ùå –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ (–ø–æ–ø—ã—Ç–∫–∞ 1/5): HTTPSConnectionPool(host='api.telegram.org', port=443): Read
  timed out. (read timeout=25)
2025-09-12 04:14:26 | INFO     | logger.py:89 | ‚ÑπÔ∏è ‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ 5 —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–µ–π –ø–æ–ø—ã—Ç–∫–æ–π...
2025-09-12 04:14:26 | INFO     | logger.py:89 | ‚ÑπÔ∏è üîÑ –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è 1/5
2025-09-12 04:14:31 | INFO     | logger.py:89 | ‚ÑπÔ∏è ‚úÖ Webhook —É–¥–∞–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ
2025-09-12 04:14:52 | ERROR    | logger.py:97 | ‚ùå 
  ‚ùå –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ (–ø–æ–ø—ã—Ç–∫–∞ 2/5): HTTPSConnectionPool(host='api.telegram.org', port=443): Max
  retries exceeded with url:
  /bot8204433104:AAGTJwvACUkTIMpFLg4_6umMfh-v6cBtcQs/getUpdates?offset=1&timeout=20 (Caused by
  NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7fa5900c4950>: Failed to
  establish a new connection: [Errno 101] Network is unreachable'))
2025-09-12 04:14:52 | INFO     | logger.py:89 | ‚ÑπÔ∏è ‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ 5 —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–µ–π –ø–æ–ø—ã—Ç–∫–æ–π...
2025-09-12 04:14:52 | INFO     | logger.py:89 | ‚ÑπÔ∏è üîÑ –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è 2/5
2025-09-12 04:14:58 | INFO     | logger.py:89 | ‚ÑπÔ∏è ‚úÖ Webhook —É–¥–∞–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ
2025-09-12 04:27:43 | ERROR    | logger.py:97 | ‚ùå 
  ‚ùå –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ (–ø–æ–ø—ã—Ç–∫–∞ 3/5): HTTPSConnectionPool(host='api.telegram.org', port=443): Read
  timed out. (read timeout=25)
2025-09-12 04:27:43 | INFO     | logger.py:89 | ‚ÑπÔ∏è ‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ 5 —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–µ–π –ø–æ–ø—ã—Ç–∫–æ–π...
2025-09-12 04:27:43 | INFO     | logger.py:89 | ‚ÑπÔ∏è üîÑ –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è 3/5
2025-09-12 04:27:48 | INFO     | logger.py:89 | ‚ÑπÔ∏è ‚úÖ Webhook —É–¥–∞–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ
2025-09-12 08:48:16 | ERROR    | logger.py:97 | ‚ùå 
  ‚ùå –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ (–ø–æ–ø—ã—Ç–∫–∞ 4/5): HTTPSConnectionPool(host='api.telegram.org', port=443): Read
  timed out. (read timeout=25)
2025-09-12 08:48:16 | INFO     | logger.py:89 | ‚ÑπÔ∏è ‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ 5 —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–µ–π –ø–æ–ø—ã—Ç–∫–æ–π...
2025-09-12 08:48:16 | INFO     | logger.py:89 | ‚ÑπÔ∏è üîÑ –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è 4/5
2025-09-12 08:48:22 | INFO     | logger.py:89 | ‚ÑπÔ∏è ‚úÖ Webhook —É–¥–∞–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ
2025-09-12 08:49:09 | ERROR    | logger.py:97 | ‚ùå 
  ‚ùå –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ (–ø–æ–ø—ã—Ç–∫–∞ 5/5): HTTPSConnectionPool(host='api.telegram.org', port=443): Read
  timed out. (read timeout=25)
2025-09-12 08:49:09 | CRITICAL | logger.py:101 | üö® ‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: –ü—Ä–µ–≤—ã—à–µ–Ω–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫
2025-09-12 08:49:09 | DEBUG    | logger.py:80 | 
  ‚ùå –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ main —Å –æ—à–∏–±–∫–æ–π: ‚ùå –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ (–ø–æ–ø—ã—Ç–∫–∞ 5/5):
  HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=25)
2025-09-12 08:49:11 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: main
2025-09-12 08:49:11 | INFO     | logger.py:89 | ‚ÑπÔ∏è ‚úÖ Webhook —É–¥–∞–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ
2025-09-12 08:56:01 | ERROR    | logger.py:97 | ‚ùå 
  ‚ùå –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ (–ø–æ–ø—ã—Ç–∫–∞ 1/5): HTTPSConnectionPool(host='api.telegram.org', port=443): Read
  timed out. (read timeout=25)
2025-09-12 08:56:01 | INFO     | logger.py:89 | ‚ÑπÔ∏è ‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ 5 —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–µ–π –ø–æ–ø—ã—Ç–∫–æ–π...
2025-09-12 08:56:01 | INFO     | logger.py:89 | ‚ÑπÔ∏è üîÑ –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è 1/5
2025-09-12 08:56:06 | INFO     | logger.py:89 | ‚ÑπÔ∏è 
  ‚ÑπÔ∏è Webhook –Ω–µ –±—ã–ª –∞–∫—Ç–∏–≤–µ–Ω –∏–ª–∏ —É–∂–µ —É–¥–∞–ª–µ–Ω: ('Connection aborted.', RemoteDisconnected('Remote end
  closed connection without response'))
2025-09-12 09:37:59 | ERROR    | logger.py:97 | ‚ùå 
  ‚ùå –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ (–ø–æ–ø—ã—Ç–∫–∞ 2/5): HTTPSConnectionPool(host='api.telegram.org', port=443): Read
  timed out. (read timeout=25)
2025-09-12 09:37:59 | INFO     | logger.py:89 | ‚ÑπÔ∏è ‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ 5 —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–µ–π –ø–æ–ø—ã—Ç–∫–æ–π...
2025-09-12 09:37:59 | INFO     | logger.py:89 | ‚ÑπÔ∏è üîÑ –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è 2/5
2025-09-12 09:38:04 | INFO     | logger.py:89 | ‚ÑπÔ∏è ‚úÖ Webhook —É–¥–∞–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ
2025-09-12 11:03:03 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: main
2025-09-12 11:03:03 | INFO     | logger.py:89 | ‚ÑπÔ∏è ‚úÖ Webhook —É–¥–∞–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ
2025-09-12 11:04:14 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: handle_message
  –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ('–Ø–∫—É–±–æ–≤',)
2025-09-12 11:04:15 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: ceo_dispatcher
  –ê—Ä–≥—É–º–µ–Ω—Ç—ã: [{'role': 'user', 'content': '–Ø–∫—É–±–æ–≤'}]
2025-09-12 11:04:16 | INFO     | logger.py:89 | ‚ÑπÔ∏è ceo_dispatcher, decision: search
2025-09-12 11:04:16 | INFO     | logger.py:89 | ‚ÑπÔ∏è ceo_dispatcher, decision –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ type_of_request: search, 
2025-09-12 11:04:16 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: connect_search_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ([{'role': 'user', 'content': '–Ø–∫—É–±–æ–≤'}],
  [{'role': 'user', 'content': '–Ø–∫—É–±–æ–≤'}])
2025-09-12 11:04:16 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: search_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ([{'role': 'user', 'content': '–Ø–∫—É–±–æ–≤'}], [{'role':
  'user', 'content': '–Ø–∫—É–±–æ–≤'}])
2025-09-12 11:04:16 | INFO     | logger.py:113 | üîç –û—Ç–ø—Ä–∞–≤–ª—è—é –∑–∞–ø—Ä–æ—Å –∫ –ò–ò (—Å–æ–æ–±—â–µ–Ω–∏–π: 1)
2025-09-12 11:04:18 | INFO     | logger.py:113 | üîç –ò–ò –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é: sort_employee
2025-09-12 11:04:18 | INFO     | logger.py:113 | üîç –í—ã–ø–æ–ª–Ω—è—é sort_employee —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º: –Ø–∫—É–±–æ–≤
2025-09-12 11:04:18 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: sort_employee
  –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ('–Ø–∫—É–±–æ–≤',)
2025-09-12 11:04:18 | INFO     | logger.py:113 | üîç –ò—â—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ —Ñ–∏–ª—å—Ç—Ä—É: '–Ø–∫—É–±–æ–≤'
2025-09-12 11:04:18 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: call_external_api
2025-09-12 11:04:18 | INFO     | logger.py:125 | üåê –í—ã–ø–æ–ª–Ω—è—é –∑–∞–ø—Ä–æ—Å –∫ API: http://labor.tetrakom-crm-miniapp.ru/api/people
2025-09-12 11:04:18 | INFO     | logger.py:125 | üåê API –∑–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–µ–Ω, –ø–æ–ª—É—á–µ–Ω–æ 109609 —Å–∏–º–≤–æ–ª–æ–≤
2025-09-12 11:04:18 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ call_external_api
  –†–µ–∑—É–ª—å—Ç–∞—Ç: 3
2025-09-12 11:04:21 | INFO     | logger.py:105 | ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤: {"data": "–Ω–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤"}
2025-09-12 11:04:21 | INFO     | logger.py:105 | ‚úÖ –ü–æ–∏—Å–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω
2025-09-12 11:04:21 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ sort_employee
  –†–µ–∑—É–ª—å—Ç–∞—Ç: {"data": "–Ω–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤"}
2025-09-12 11:04:21 | ERROR    | logger.py:97 | ‚ùå ‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –≤ format_employee_info: –æ–∂–∏–¥–∞–ª—Å—è dict, –ø–æ–ª—É—á–µ–Ω <class 'str'>
2025-09-12 11:04:21 | INFO     | logger.py:105 | ‚úÖ –§—É–Ω–∫—Ü–∏—è sort_employee –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
2025-09-12 11:04:21 | DEBUG    | logger.py:80 | 
  ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ search_dispatcher –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –≤
  format_employee_info: –æ–∂–∏–¥–∞–ª—Å—è dict, –ø–æ–ª—É—á–µ–Ω <class 'str'>
2025-09-12 11:04:21 | INFO     | logger.py:105 | ‚úÖ 
  –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ connect_search_dispatcher: ‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –≤
  format_employee_info: –æ–∂–∏–¥–∞–ª—Å—è dict, –ø–æ–ª—É—á–µ–Ω <class 'str'>
2025-09-12 11:04:21 | DEBUG    | logger.py:80 | 
  ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ connect_search_dispatcher –†–µ–∑—É–ª—å—Ç–∞—Ç: {'type': 'searchclar', 'message': "‚ùå
  –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –≤ format_employee_info: –æ–∂–∏–¥–∞–ª—Å—è dict, –ø–æ–ª—É—á–µ–Ω <class 'str'>",
  'chat_history_search': '[\n {\n "role": "assistant",\n "content": "{\\"data\\": \\"–Ω–µ—Ç
  —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤\\"}"\n }\n]'}
2025-09-12 11:04:21 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ handle_message
  –†–µ–∑—É–ª—å—Ç–∞—Ç: –°–æ–æ–±—â–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ —É—Å–ø–µ—à–Ω–æ
2025-09-12 11:04:49 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: handle_message
  –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ('–æ—Ç–º–µ–Ω–∞',)
2025-09-12 11:04:49 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: ceo_dispatcher
  –ê—Ä–≥—É–º–µ–Ω—Ç—ã: [{'role': 'user', 'content': '–æ—Ç–º–µ–Ω–∞'}]
2025-09-12 11:04:52 | INFO     | logger.py:89 | ‚ÑπÔ∏è ceo_dispatcher, decision: cancel
2025-09-12 11:04:52 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ handle_message
  –†–µ–∑—É–ª—å—Ç–∞—Ç: –°–æ–æ–±—â–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ —É—Å–ø–µ—à–Ω–æ
2025-09-12 11:04:55 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: handle_message
  –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ('–Ø–∫—É–±–æ–≤',)
2025-09-12 11:04:55 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: ceo_dispatcher
  –ê—Ä–≥—É–º–µ–Ω—Ç—ã: [{'role': 'user', 'content': '–Ø–∫—É–±–æ–≤'}]
2025-09-12 11:04:57 | INFO     | logger.py:89 | ‚ÑπÔ∏è ceo_dispatcher, decision: search
2025-09-12 11:04:57 | INFO     | logger.py:89 | ‚ÑπÔ∏è ceo_dispatcher, decision –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ type_of_request: search, 
2025-09-12 11:04:57 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: connect_search_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ([{'role': 'user', 'content': '–Ø–∫—É–±–æ–≤'}],
  [{'role': 'user', 'content': '–Ø–∫—É–±–æ–≤'}])
2025-09-12 11:04:57 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: search_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ([{'role': 'user', 'content': '–Ø–∫—É–±–æ–≤'}], [{'role':
  'user', 'content': '–Ø–∫—É–±–æ–≤'}])
2025-09-12 11:04:57 | INFO     | logger.py:113 | üîç –û—Ç–ø—Ä–∞–≤–ª—è—é –∑–∞–ø—Ä–æ—Å –∫ –ò–ò (—Å–æ–æ–±—â–µ–Ω–∏–π: 1)
2025-09-12 11:04:59 | INFO     | logger.py:113 | üîç –ò–ò –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é: sort_employee
2025-09-12 11:04:59 | INFO     | logger.py:113 | üîç –í—ã–ø–æ–ª–Ω—è—é sort_employee —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º: –Ø–∫—É–±–æ–≤
2025-09-12 11:04:59 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: sort_employee
  –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ('–Ø–∫—É–±–æ–≤',)
2025-09-12 11:04:59 | INFO     | logger.py:113 | üîç –ò—â—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ —Ñ–∏–ª—å—Ç—Ä—É: '–Ø–∫—É–±–æ–≤'
2025-09-12 11:04:59 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: call_external_api
2025-09-12 11:04:59 | INFO     | logger.py:125 | üåê –í—ã–ø–æ–ª–Ω—è—é –∑–∞–ø—Ä–æ—Å –∫ API: http://labor.tetrakom-crm-miniapp.ru/api/people
2025-09-12 11:04:59 | INFO     | logger.py:125 | üåê API –∑–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–µ–Ω, –ø–æ–ª—É—á–µ–Ω–æ 109609 —Å–∏–º–≤–æ–ª–æ–≤
2025-09-12 11:04:59 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ call_external_api
  –†–µ–∑—É–ª—å—Ç–∞—Ç: 3
2025-09-12 11:05:03 | INFO     | logger.py:105 | ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤: {"data": "–Ω–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤"}
2025-09-12 11:05:03 | INFO     | logger.py:105 | ‚úÖ –ü–æ–∏—Å–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω
2025-09-12 11:05:03 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ sort_employee
  –†–µ–∑—É–ª—å—Ç–∞—Ç: {"data": "–Ω–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤"}
2025-09-12 11:05:03 | ERROR    | logger.py:97 | ‚ùå ‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –≤ format_employee_info: –æ–∂–∏–¥–∞–ª—Å—è dict, –ø–æ–ª—É—á–µ–Ω <class 'str'>
2025-09-12 11:05:03 | INFO     | logger.py:105 | ‚úÖ –§—É–Ω–∫—Ü–∏—è sort_employee –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
2025-09-12 11:05:03 | DEBUG    | logger.py:80 | 
  ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ search_dispatcher –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –≤
  format_employee_info: –æ–∂–∏–¥–∞–ª—Å—è dict, –ø–æ–ª—É—á–µ–Ω <class 'str'>
2025-09-12 11:05:03 | INFO     | logger.py:105 | ‚úÖ 
  –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ connect_search_dispatcher: ‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –≤
  format_employee_info: –æ–∂–∏–¥–∞–ª—Å—è dict, –ø–æ–ª—É—á–µ–Ω <class 'str'>
2025-09-12 11:05:03 | DEBUG    | logger.py:80 | 
  ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ connect_search_dispatcher –†–µ–∑—É–ª—å—Ç–∞—Ç: {'type': 'searchclar', 'message': "‚ùå
  –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –≤ format_employee_info: –æ–∂–∏–¥–∞–ª—Å—è dict, –ø–æ–ª—É—á–µ–Ω <class 'str'>",
  'chat_history_search': '[\n {\n "role": "assistant",\n "content": "{\\"data\\": \\"–Ω–µ—Ç
  —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤\\"}"\n }\n]'}
2025-09-12 11:05:03 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ handle_message
  –†–µ–∑—É–ª—å—Ç–∞—Ç: –°–æ–æ–±—â–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ —É—Å–ø–µ—à–Ω–æ
2025-09-12 11:05:07 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: handle_message
  –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ('–Ø–∫—É–±–æ–≤ –ë–æ–∏—Ä–¥–∂–æ–Ω –ê—Ö–º–∞–¥–æ–≤–∏—á',)
2025-09-12 11:05:08 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: ceo_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: [{'role': 'user', 'content': '–Ø–∫—É–±–æ–≤ –ë–æ–∏—Ä–¥–∂–æ–Ω
  –ê—Ö–º–∞–¥–æ–≤–∏—á'}]
2025-09-12 11:05:10 | INFO     | logger.py:89 | ‚ÑπÔ∏è ceo_dispatcher, decision: search
2025-09-12 11:05:10 | INFO     | logger.py:89 | ‚ÑπÔ∏è ceo_dispatcher, decision –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ type_of_request: search, searchclar
2025-09-12 11:05:10 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: connect_search_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ([{'role': 'user', 'content': '–Ø–∫—É–±–æ–≤
  –ë–æ–∏—Ä–¥–∂–æ–Ω –ê—Ö–º–∞–¥–æ–≤–∏—á'}], [{'role': 'assistant', 'content': '[\n {\n "role": "assistant",\n "content":
  "{\\"data\\": \\"–Ω–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤\\"}"\n }\n]'}, {'role': 'user', 'content': '–Ø–∫—É–±–æ–≤ –ë–æ–∏—Ä–¥–∂–æ–Ω
  –ê—Ö–º–∞–¥–æ–≤–∏—á'}])
2025-09-12 11:05:10 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: search_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ([{'role': 'user', 'content': '–Ø–∫—É–±–æ–≤ –ë–æ–∏—Ä–¥–∂–æ–Ω
  –ê—Ö–º–∞–¥–æ–≤–∏—á'}], [{'role': 'assistant', 'content': '[\n {\n "role": "assistant",\n "content":
  "{\\"data\\": \\"–Ω–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤\\"}"\n }\n]'}, {'role': 'user', 'content': '–Ø–∫—É–±–æ–≤ –ë–æ–∏—Ä–¥–∂–æ–Ω
  –ê—Ö–º–∞–¥–æ–≤–∏—á'}])
2025-09-12 11:05:10 | INFO     | logger.py:113 | üîç –û—Ç–ø—Ä–∞–≤–ª—è—é –∑–∞–ø—Ä–æ—Å –∫ –ò–ò (—Å–æ–æ–±—â–µ–Ω–∏–π: 1)
2025-09-12 11:05:12 | INFO     | logger.py:113 | üîç –ò–ò –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é: sort_employee
2025-09-12 11:05:12 | INFO     | logger.py:113 | üîç –í—ã–ø–æ–ª–Ω—è—é sort_employee —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º: –Ø–∫—É–±–æ–≤ –ë–æ–∏—Ä–¥–∂–æ–Ω –ê—Ö–º–∞–¥–æ–≤–∏—á
2025-09-12 11:05:12 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: sort_employee
  –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ('–Ø–∫—É–±–æ–≤ –ë–æ–∏—Ä–¥–∂–æ–Ω –ê—Ö–º–∞–¥–æ–≤–∏—á',)
2025-09-12 11:05:12 | INFO     | logger.py:113 | üîç –ò—â—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ —Ñ–∏–ª—å—Ç—Ä—É: '–Ø–∫—É–±–æ–≤ –ë–æ–∏—Ä–¥–∂–æ–Ω –ê—Ö–º–∞–¥–æ–≤–∏—á'
2025-09-12 11:05:12 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: call_external_api
2025-09-12 11:05:12 | INFO     | logger.py:125 | üåê –í—ã–ø–æ–ª–Ω—è—é –∑–∞–ø—Ä–æ—Å –∫ API: http://labor.tetrakom-crm-miniapp.ru/api/people
2025-09-12 11:05:13 | INFO     | logger.py:125 | üåê API –∑–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–µ–Ω, –ø–æ–ª—É—á–µ–Ω–æ 109609 —Å–∏–º–≤–æ–ª–æ–≤
2025-09-12 11:05:13 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ call_external_api
  –†–µ–∑—É–ª—å—Ç–∞—Ç: 3
2025-09-12 11:05:23 | INFO     | logger.py:105 | ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤: {
  "data": [],
  "message": "–Ω–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤"
}
2025-09-12 11:05:23 | INFO     | logger.py:105 | ‚úÖ –ü–æ–∏—Å–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω
2025-09-12 11:05:23 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ sort_employee
  –†–µ–∑—É–ª—å—Ç–∞—Ç: {
  "data": [],
  "message": "–Ω–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤"
}
2025-09-12 11:05:23 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ format_employee_info
  –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚ö† –ù–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ –∑–∞–ø—Ä–æ—Å—É
2025-09-12 11:05:23 | INFO     | logger.py:105 | ‚úÖ –§—É–Ω–∫—Ü–∏—è sort_employee –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
2025-09-12 11:05:23 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ search_dispatcher
  –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚ö† –ù–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ –∑–∞–ø—Ä–æ—Å—É
2025-09-12 11:05:23 | INFO     | logger.py:105 | ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ connect_search_dispatcher: ‚ö† –ù–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ –∑–∞–ø—Ä–æ—Å—É
2025-09-12 11:05:23 | DEBUG    | logger.py:80 | 
  ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ connect_search_dispatcher –†–µ–∑—É–ª—å—Ç–∞—Ç: {'type': 'searchready', 'message': '‚ö† –ù–µ—Ç
  —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ –∑–∞–ø—Ä–æ—Å—É', 'chat_history_search': '[\n {\n "role": "assistant",\n "content": "{\\n
  \\"data\\": [],\\n \\"message\\": \\"–Ω–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤\\"\\n}"\n }\n]'}
2025-09-12 11:05:23 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ handle_message
  –†–µ–∑—É–ª—å—Ç–∞—Ç: –°–æ–æ–±—â–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ —É—Å–ø–µ—à–Ω–æ
2025-09-12 11:05:26 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: handle_message
  –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ('–ø–æ–∫–∞–∂–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ø–∫—É–±–æ–≤ –ë–æ–∏—Ä–¥–∂–æ–Ω –ê—Ö–º–∞–¥–æ–≤–∏—á',)
2025-09-12 11:05:26 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: ceo_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: [{'role': 'user', 'content': '–ø–æ–∫–∞–∂–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ø–∫—É–±–æ–≤
  –ë–æ–∏—Ä–¥–∂–æ–Ω –ê—Ö–º–∞–¥–æ–≤–∏—á'}]
2025-09-12 11:05:28 | INFO     | logger.py:89 | ‚ÑπÔ∏è ceo_dispatcher, decision: search
2025-09-12 11:05:28 | INFO     | logger.py:89 | ‚ÑπÔ∏è ceo_dispatcher, decision –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ type_of_request: search, searchready
2025-09-12 11:05:28 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: connect_search_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ([{'role': 'user', 'content': '–ø–æ–∫–∞–∂–∏
  –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ø–∫—É–±–æ–≤ –ë–æ–∏—Ä–¥–∂–æ–Ω –ê—Ö–º–∞–¥–æ–≤–∏—á'}], [{'role': 'assistant', 'content': '[\n {\n "role":
  "assistant",\n "content": "{\\"data\\": \\"–Ω–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤\\"}"\n }\n]'}, {'role': 'assistant',
  'content': '[\n {\n "role": "assistant",\n "content": "{\\n \\"data\\": [],\\n \\"message\\": \\"–Ω–µ—Ç
  —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤\\"\\n}"\n }\n]'}, {'role': 'user', 'content': '–ø–æ–∫–∞–∂–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ø–∫—É–±–æ–≤ –ë–æ–∏—Ä–¥–∂–æ–Ω
  –ê—Ö–º–∞–¥–æ–≤–∏—á'}])
2025-09-12 11:05:28 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: search_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ([{'role': 'user', 'content': '–ø–æ–∫–∞–∂–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ
  –Ø–∫—É–±–æ–≤ –ë–æ–∏—Ä–¥–∂–æ–Ω –ê—Ö–º–∞–¥–æ–≤–∏—á'}], [{'role': 'assistant', 'content': '[\n {\n "role": "assistant",\n
  "content": "{\\"data\\": \\"–Ω–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤\\"}"\n }\n]'}, {'role': 'assistant', 'content': '[\n {\n
  "role": "assistant",\n "content": "{\\n \\"data\\": [],\\n \\"message\\": \\"–Ω–µ—Ç
  —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤\\"\\n}"\n }\n]'}, {'role': 'user', 'content': '–ø–æ–∫–∞–∂–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ø–∫—É–±–æ–≤ –ë–æ–∏—Ä–¥–∂–æ–Ω
  –ê—Ö–º–∞–¥–æ–≤–∏—á'}])
2025-09-12 11:05:28 | INFO     | logger.py:113 | üîç –û—Ç–ø—Ä–∞–≤–ª—è—é –∑–∞–ø—Ä–æ—Å –∫ –ò–ò (—Å–æ–æ–±—â–µ–Ω–∏–π: 1)
2025-09-12 11:05:30 | INFO     | logger.py:113 | üîç –ò–ò –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é: sort_employee
2025-09-12 11:05:30 | INFO     | logger.py:113 | üîç –í—ã–ø–æ–ª–Ω—è—é sort_employee —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º: –Ø–∫—É–±–æ–≤ –ë–æ–∏—Ä–¥–∂–æ–Ω –ê—Ö–º–∞–¥–æ–≤–∏—á
2025-09-12 11:05:30 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: sort_employee
  –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ('–Ø–∫—É–±–æ–≤ –ë–æ–∏—Ä–¥–∂–æ–Ω –ê—Ö–º–∞–¥–æ–≤–∏—á',)
2025-09-12 11:05:30 | INFO     | logger.py:113 | üîç –ò—â—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ —Ñ–∏–ª—å—Ç—Ä—É: '–Ø–∫—É–±–æ–≤ –ë–æ–∏—Ä–¥–∂–æ–Ω –ê—Ö–º–∞–¥–æ–≤–∏—á'
2025-09-12 11:05:30 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: call_external_api
2025-09-12 11:05:30 | INFO     | logger.py:125 | üåê –í—ã–ø–æ–ª–Ω—è—é –∑–∞–ø—Ä–æ—Å –∫ API: http://labor.tetrakom-crm-miniapp.ru/api/people
2025-09-12 11:05:31 | INFO     | logger.py:125 | üåê API –∑–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–µ–Ω, –ø–æ–ª—É—á–µ–Ω–æ 109609 —Å–∏–º–≤–æ–ª–æ–≤
2025-09-12 11:05:31 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ call_external_api
  –†–µ–∑—É–ª—å—Ç–∞—Ç: 3
2025-09-12 11:05:33 | INFO     | logger.py:105 | ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤: {
  "data": [],
  "message": "–Ω–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤"
}
2025-09-12 11:05:33 | INFO     | logger.py:105 | ‚úÖ –ü–æ–∏—Å–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω
2025-09-12 11:05:33 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ sort_employee
  –†–µ–∑—É–ª—å—Ç–∞—Ç: {
  "data": [],
  "message": "–Ω–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤"
}
2025-09-12 11:05:33 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ format_employee_info
  –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚ö† –ù–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ –∑–∞–ø—Ä–æ—Å—É
2025-09-12 11:05:33 | INFO     | logger.py:105 | ‚úÖ –§—É–Ω–∫—Ü–∏—è sort_employee –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
2025-09-12 11:05:33 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ search_dispatcher
  –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚ö† –ù–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ –∑–∞–ø—Ä–æ—Å—É
2025-09-12 11:05:33 | INFO     | logger.py:105 | ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ connect_search_dispatcher: ‚ö† –ù–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ –∑–∞–ø—Ä–æ—Å—É
2025-09-12 11:05:33 | DEBUG    | logger.py:80 | 
  ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ connect_search_dispatcher –†–µ–∑—É–ª—å—Ç–∞—Ç: {'type': 'searchready', 'message': '‚ö† –ù–µ—Ç
  —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ –∑–∞–ø—Ä–æ—Å—É', 'chat_history_search': '[\n {\n "role": "assistant",\n "content": "{\\n
  \\"data\\": [],\\n \\"message\\": \\"–Ω–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤\\"\\n}"\n }\n]'}
2025-09-12 11:05:33 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ handle_message
  –†–µ–∑—É–ª—å—Ç–∞—Ç: –°–æ–æ–±—â–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ —É—Å–ø–µ—à–Ω–æ
2025-09-12 11:05:50 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: handle_message
  –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ('–ø–æ–∫–∞–∂–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á',)
2025-09-12 11:05:50 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: ceo_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: [{'role': 'user', 'content': '–ø–æ–∫–∞–∂–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ï–≥–æ—Ä–æ–≤
  –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á'}]
2025-09-12 11:05:52 | INFO     | logger.py:89 | ‚ÑπÔ∏è ceo_dispatcher, decision: search
2025-09-12 11:05:52 | INFO     | logger.py:89 | ‚ÑπÔ∏è ceo_dispatcher, decision –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ type_of_request: search, searchready
2025-09-12 11:05:52 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: connect_search_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ([{'role': 'user', 'content': '–ø–æ–∫–∞–∂–∏
  –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á'}], [{'role': 'assistant', 'content': '[\n {\n "role":
  "assistant",\n "content": "{\\"data\\": \\"–Ω–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤\\"}"\n }\n]'}, {'role': 'assistant',
  'content': '[\n {\n "role": "assistant",\n "content": "{\\n \\"data\\": [],\\n \\"message\\": \\"–Ω–µ—Ç
  —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤\\"\\n}"\n }\n]'}, {'role': 'assistant', 'content': '[\n {\n "role": "assistant",\n
  "content": "{\\n \\"data\\": [],\\n \\"message\\": \\"–Ω–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤\\"\\n}"\n }\n]'}, {'role':
  'user', 'content': '–ø–æ–∫–∞–∂–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á'}])
2025-09-12 11:05:52 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: search_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ([{'role': 'user', 'content': '–ø–æ–∫–∞–∂–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ
  –ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á'}], [{'role': 'assistant', 'content': '[\n {\n "role": "assistant",\n
  "content": "{\\"data\\": \\"–Ω–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤\\"}"\n }\n]'}, {'role': 'assistant', 'content': '[\n {\n
  "role": "assistant",\n "content": "{\\n \\"data\\": [],\\n \\"message\\": \\"–Ω–µ—Ç
  —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤\\"\\n}"\n }\n]'}, {'role': 'assistant', 'content': '[\n {\n "role": "assistant",\n
  "content": "{\\n \\"data\\": [],\\n \\"message\\": \\"–Ω–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤\\"\\n}"\n }\n]'}, {'role':
  'user', 'content': '–ø–æ–∫–∞–∂–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á'}])
2025-09-12 11:05:52 | INFO     | logger.py:113 | üîç –û—Ç–ø—Ä–∞–≤–ª—è—é –∑–∞–ø—Ä–æ—Å –∫ –ò–ò (—Å–æ–æ–±—â–µ–Ω–∏–π: 1)
2025-09-12 11:05:54 | INFO     | logger.py:113 | üîç –ò–ò –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é: sort_employee
2025-09-12 11:05:54 | INFO     | logger.py:113 | üîç –í—ã–ø–æ–ª–Ω—è—é sort_employee —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º: –ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á
2025-09-12 11:05:54 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: sort_employee
  –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ('–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á',)
2025-09-12 11:05:54 | INFO     | logger.py:113 | üîç –ò—â—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ —Ñ–∏–ª—å—Ç—Ä—É: '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á'
2025-09-12 11:05:54 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: call_external_api
2025-09-12 11:05:54 | INFO     | logger.py:125 | üåê –í—ã–ø–æ–ª–Ω—è—é –∑–∞–ø—Ä–æ—Å –∫ API: http://labor.tetrakom-crm-miniapp.ru/api/people
2025-09-12 11:05:54 | INFO     | logger.py:125 | üåê API –∑–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–µ–Ω, –ø–æ–ª—É—á–µ–Ω–æ 109609 —Å–∏–º–≤–æ–ª–æ–≤
2025-09-12 11:05:54 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ call_external_api
  –†–µ–∑—É–ª—å—Ç–∞—Ç: 3
2025-09-12 11:06:09 | INFO     | logger.py:105 | ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤: {
  "data": [],
  "message": "–Ω–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤"
}
2025-09-12 11:06:09 | INFO     | logger.py:105 | ‚úÖ –ü–æ–∏—Å–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω
2025-09-12 11:06:09 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ sort_employee
  –†–µ–∑—É–ª—å—Ç–∞—Ç: {
  "data": [],
  "message": "–Ω–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤"
}
2025-09-12 11:06:09 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ format_employee_info
  –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚ö† –ù–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ –∑–∞–ø—Ä–æ—Å—É
2025-09-12 11:06:09 | INFO     | logger.py:105 | ‚úÖ –§—É–Ω–∫—Ü–∏—è sort_employee –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
2025-09-12 11:06:09 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ search_dispatcher
  –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚ö† –ù–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ –∑–∞–ø—Ä–æ—Å—É
2025-09-12 11:06:09 | INFO     | logger.py:105 | ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ connect_search_dispatcher: ‚ö† –ù–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ –∑–∞–ø—Ä–æ—Å—É
2025-09-12 11:06:09 | DEBUG    | logger.py:80 | 
  ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ connect_search_dispatcher –†–µ–∑—É–ª—å—Ç–∞—Ç: {'type': 'searchready', 'message': '‚ö† –ù–µ—Ç
  —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ –∑–∞–ø—Ä–æ—Å—É', 'chat_history_search': '[\n {\n "role": "assistant",\n "content": "{\\n
  \\"data\\": [],\\n \\"message\\": \\"–Ω–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤\\"\\n}"\n }\n]'}
2025-09-12 11:06:09 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ handle_message
  –†–µ–∑—É–ª—å—Ç–∞—Ç: –°–æ–æ–±—â–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ —É—Å–ø–µ—à–Ω–æ
2025-09-12 12:16:33 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: main
2025-09-12 12:16:33 | INFO     | logger.py:89 | ‚ÑπÔ∏è ‚úÖ Webhook —É–¥–∞–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ
2025-09-12 12:16:38 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: handle_message
  –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ('–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á',)
2025-09-12 12:16:38 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: ceo_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: [{'role': 'user', 'content': '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á'}]
2025-09-12 12:16:40 | INFO     | logger.py:89 | ‚ÑπÔ∏è ceo_dispatcher, decision: search
2025-09-12 12:16:40 | INFO     | logger.py:89 | ‚ÑπÔ∏è ceo_dispatcher, decision –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ type_of_request: search, 
2025-09-12 12:16:40 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: connect_search_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ([{'role': 'user', 'content': '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π
  –§–µ–¥–æ—Ä–æ–≤–∏—á'}], [{'role': 'user', 'content': '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á'}])
2025-09-12 12:16:40 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: search_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ([{'role': 'user', 'content': '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π
  –§–µ–¥–æ—Ä–æ–≤–∏—á'}], [{'role': 'user', 'content': '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á'}])
2025-09-12 12:16:40 | INFO     | logger.py:113 | üîç –û—Ç–ø—Ä–∞–≤–ª—è—é –∑–∞–ø—Ä–æ—Å –∫ –ò–ò (—Å–æ–æ–±—â–µ–Ω–∏–π: 1)
2025-09-12 12:16:42 | INFO     | logger.py:113 | üîç –ò–ò –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é: sort_employee
2025-09-12 12:16:42 | INFO     | logger.py:113 | üîç –í—ã–ø–æ–ª–Ω—è—é sort_employee —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º: –ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á
2025-09-12 12:16:42 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: sort_employee
  –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ('–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á',)
2025-09-12 12:16:42 | INFO     | logger.py:113 | üîç –ò—â—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ —Ñ–∏–ª—å—Ç—Ä—É: '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á'
2025-09-12 12:16:42 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: call_external_api
2025-09-12 12:16:42 | INFO     | logger.py:125 | üåê –í—ã–ø–æ–ª–Ω—è—é –∑–∞–ø—Ä–æ—Å –∫ API: http://labor.tetrakom-crm-miniapp.ru/api/people
2025-09-12 12:16:43 | INFO     | logger.py:125 | üåê API –∑–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–µ–Ω, –ø–æ–ª—É—á–µ–Ω–æ 1210089 —Å–∏–º–≤–æ–ª–æ–≤
2025-09-12 12:16:43 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ call_external_api
  –†–µ–∑—É–ª—å—Ç–∞—Ç: 3
2025-09-12 12:16:47 | ERROR    | logger.py:97 | ‚ùå 
  ‚ùå –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ sort_employee: Error code: 400 - {'error': {'traceId':
  '7ae297ab-b983-448e-bbfa-222a491557e3', 'message': 'HTTP request error: 400: This endpoint\'s
  maximum context length is 1047576 tokens. However, you requested about 1362467 tokens. Please reduce
  the length of either one, or use the "middle-out" transform to compress your prompt automatically.',
  'code': 'LLM_REQUEST_ERROR'}}
2025-09-12 12:16:47 | DEBUG    | logger.py:80 | 
  ‚ùå –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ search_dispatcher —Å –æ—à–∏–±–∫–æ–π: ‚ùå –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ sort_employee: Error
  code: 400 - {'error': {'traceId': '7ae297ab-b983-448e-bbfa-222a491557e3', 'message': 'HTTP request
  error: 400: This endpoint\'s maximum context length is 1047576 tokens. However, you requested about
  1362467 tokens. Please reduce the length of either one, or use the "middle-out" transform to
  compress your prompt automatically.', 'code': 'LLM_REQUEST_ERROR'}}
2025-09-12 12:16:47 | INFO     | logger.py:105 | ‚úÖ 
  –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ connect_search_dispatcher: ‚ùå –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ sort_employee:
  Error code: 400 - {'error': {'traceId': '7ae297ab-b983-448e-bbfa-222a491557e3', 'message': 'HTTP
  request error: 400: This endpoint\'s maximum context length is 1047576 tokens. However, you
  requested about 1362467 tokens. Please reduce the length of either one, or use the "middle-out"
  transform to compress your prompt automatically.', 'code': 'LLM_REQUEST_ERROR'}}
2025-09-12 12:16:47 | DEBUG    | logger.py:80 | 
  ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ connect_search_dispatcher –†–µ–∑—É–ª—å—Ç–∞—Ç: {'type': 'searchclar', 'message': '‚ùå –û—à–∏–±–∫–∞
  –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ sort_employee: Error code: 400 - {\'error\': {\'traceId\':
  \'7ae297ab-b983-448e-bbfa-222a491557e3\', \'message\': \'HTTP request error: 400: This endpoint\\\'s
  maximum context length is 1047576 tokens. However, you requested about 1362467 tokens. Please reduce
  the length of either one, or use the "middle-out" transform to compress your prompt
  automatically.\', \'code\': \'LLM_REQUEST_ERROR\'}}', 'chat_history_search': '[]'}
2025-09-12 12:16:48 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ handle_message
  –†–µ–∑—É–ª—å—Ç–∞—Ç: –°–æ–æ–±—â–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ —É—Å–ø–µ—à–Ω–æ
2025-09-12 12:18:12 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: main
2025-09-12 12:18:13 | INFO     | logger.py:89 | ‚ÑπÔ∏è ‚úÖ Webhook —É–¥–∞–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ
2025-09-12 12:18:18 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: handle_message
  –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ('–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á',)
2025-09-12 12:18:18 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: ceo_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: [{'role': 'user', 'content': '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á'}]
2025-09-12 12:18:20 | INFO     | logger.py:89 | ‚ÑπÔ∏è ceo_dispatcher, decision: search
2025-09-12 12:18:20 | INFO     | logger.py:89 | ‚ÑπÔ∏è ceo_dispatcher, decision –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ type_of_request: search, searchclar
2025-09-12 12:18:20 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: connect_search_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ([{'role': 'user', 'content': '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π
  –§–µ–¥–æ—Ä–æ–≤–∏—á'}], [{'role': 'assistant', 'content': '[]'}, {'role': 'user', 'content': '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π
  –§–µ–¥–æ—Ä–æ–≤–∏—á'}])
2025-09-12 12:18:20 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: search_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ([{'role': 'user', 'content': '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π
  –§–µ–¥–æ—Ä–æ–≤–∏—á'}], [{'role': 'assistant', 'content': '[]'}, {'role': 'user', 'content': '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π
  –§–µ–¥–æ—Ä–æ–≤–∏—á'}])
2025-09-12 12:18:20 | INFO     | logger.py:113 | üîç –û—Ç–ø—Ä–∞–≤–ª—è—é –∑–∞–ø—Ä–æ—Å –∫ –ò–ò (—Å–æ–æ–±—â–µ–Ω–∏–π: 1)
2025-09-12 12:18:22 | INFO     | logger.py:113 | üîç –ò–ò –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é: sort_employee
2025-09-12 12:18:22 | INFO     | logger.py:113 | üîç –í—ã–ø–æ–ª–Ω—è—é sort_employee —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º: –ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á
2025-09-12 12:18:22 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: sort_employee
  –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ('–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á',)
2025-09-12 12:18:22 | INFO     | logger.py:113 | üîç –ò—â—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ —Ñ–∏–ª—å—Ç—Ä—É: '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á'
2025-09-12 12:18:22 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: call_external_api
2025-09-12 12:18:22 | INFO     | logger.py:125 | üåê –í—ã–ø–æ–ª–Ω—è—é –∑–∞–ø—Ä–æ—Å –∫ API: http://labor.tetrakom-crm-miniapp.ru/api/people
2025-09-12 12:18:23 | INFO     | logger.py:125 | üåê API –∑–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–µ–Ω, –ø–æ–ª—É—á–µ–Ω–æ 1210089 —Å–∏–º–≤–æ–ª–æ–≤
2025-09-12 12:18:23 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ call_external_api
  –†–µ–∑—É–ª—å—Ç–∞—Ç: 3
2025-09-12 12:18:24 | ERROR    | logger.py:97 | ‚ùå 
  ‚ùå –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ sort_employee: Error code: 400 - {'error': {'traceId':
  '9a991d76-15ec-4c55-90db-ec1486d238e6', 'message': 'HTTP request error: 400: This endpoint\'s
  maximum context length is 1047576 tokens. However, you requested about 1362467 tokens. Please reduce
  the length of either one, or use the "middle-out" transform to compress your prompt automatically.',
  'code': 'LLM_REQUEST_ERROR'}}
2025-09-12 12:18:24 | DEBUG    | logger.py:80 | 
  ‚ùå –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ search_dispatcher —Å –æ—à–∏–±–∫–æ–π: ‚ùå –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ sort_employee: Error
  code: 400 - {'error': {'traceId': '9a991d76-15ec-4c55-90db-ec1486d238e6', 'message': 'HTTP request
  error: 400: This endpoint\'s maximum context length is 1047576 tokens. However, you requested about
  1362467 tokens. Please reduce the length of either one, or use the "middle-out" transform to
  compress your prompt automatically.', 'code': 'LLM_REQUEST_ERROR'}}
2025-09-12 12:18:24 | INFO     | logger.py:105 | ‚úÖ 
  –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ connect_search_dispatcher: ‚ùå –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ sort_employee:
  Error code: 400 - {'error': {'traceId': '9a991d76-15ec-4c55-90db-ec1486d238e6', 'message': 'HTTP
  request error: 400: This endpoint\'s maximum context length is 1047576 tokens. However, you
  requested about 1362467 tokens. Please reduce the length of either one, or use the "middle-out"
  transform to compress your prompt automatically.', 'code': 'LLM_REQUEST_ERROR'}}
2025-09-12 12:18:24 | DEBUG    | logger.py:80 | 
  ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ connect_search_dispatcher –†–µ–∑—É–ª—å—Ç–∞—Ç: {'type': 'searchclar', 'message': '‚ùå –û—à–∏–±–∫–∞
  –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ sort_employee: Error code: 400 - {\'error\': {\'traceId\':
  \'9a991d76-15ec-4c55-90db-ec1486d238e6\', \'message\': \'HTTP request error: 400: This endpoint\\\'s
  maximum context length is 1047576 tokens. However, you requested about 1362467 tokens. Please reduce
  the length of either one, or use the "middle-out" transform to compress your prompt
  automatically.\', \'code\': \'LLM_REQUEST_ERROR\'}}', 'chat_history_search': '[]'}
2025-09-12 12:18:24 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ handle_message
  –†–µ–∑—É–ª—å—Ç–∞—Ç: –°–æ–æ–±—â–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ —É—Å–ø–µ—à–Ω–æ
2025-09-12 12:19:39 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ main
  –†–µ–∑—É–ª—å—Ç–∞—Ç: –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω —É—Å–ø–µ—à–Ω–æ
2025-09-12 12:24:40 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: main
2025-09-12 12:24:40 | INFO     | logger.py:89 | ‚ÑπÔ∏è ‚úÖ Webhook —É–¥–∞–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ
2025-09-12 12:24:48 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: handle_message
  –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ('–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á',)
2025-09-12 12:24:48 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: ceo_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: [{'role': 'user', 'content': '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á'}]
2025-09-12 12:24:53 | INFO     | logger.py:89 | ‚ÑπÔ∏è ceo_dispatcher, decision: search
2025-09-12 12:24:53 | INFO     | logger.py:89 | ‚ÑπÔ∏è ceo_dispatcher, decision –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ type_of_request: search, 
2025-09-12 12:24:53 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: connect_search_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ([{'role': 'user', 'content': '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π
  –§–µ–¥–æ—Ä–æ–≤–∏—á'}], [{'role': 'user', 'content': '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á'}])
2025-09-12 12:24:53 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: search_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ([{'role': 'user', 'content': '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π
  –§–µ–¥–æ—Ä–æ–≤–∏—á'}], [{'role': 'user', 'content': '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á'}])
2025-09-12 12:24:53 | INFO     | logger.py:113 | üîç –û—Ç–ø—Ä–∞–≤–ª—è—é –∑–∞–ø—Ä–æ—Å –∫ –ò–ò (—Å–æ–æ–±—â–µ–Ω–∏–π: 1)
2025-09-12 12:24:54 | INFO     | logger.py:113 | üîç –ò–ò –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é: sort_employee
2025-09-12 12:24:54 | INFO     | logger.py:113 | üîç –í—ã–ø–æ–ª–Ω—è—é sort_employee —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º: –ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á
2025-09-12 12:24:54 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: sort_employee
  –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ('–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á',)
2025-09-12 12:24:54 | INFO     | logger.py:113 | üîç –ò—â—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ —Ñ–∏–ª—å—Ç—Ä—É: '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á'
2025-09-12 12:24:54 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: call_external_api
2025-09-12 12:24:54 | INFO     | logger.py:125 | üåê –í—ã–ø–æ–ª–Ω—è—é –∑–∞–ø—Ä–æ—Å –∫ API: http://labor.tetrakom-crm-miniapp.ru/api/people
2025-09-12 12:24:55 | INFO     | logger.py:125 | üåê API –∑–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–µ–Ω, –ø–æ–ª—É—á–µ–Ω–æ 1210089 —Å–∏–º–≤–æ–ª–æ–≤
2025-09-12 12:24:55 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ call_external_api
  –†–µ–∑—É–ª—å—Ç–∞—Ç: 3
2025-09-12 12:24:58 | ERROR    | logger.py:97 | ‚ùå 
  ‚ùå –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ sort_employee: Error code: 400 - {'error': {'traceId':
  '6fffa5ac-f4ac-4d72-b960-118b9cddeccd', 'message': 'HTTP request error: 400: This endpoint\'s
  maximum context length is 1047576 tokens. However, you requested about 1362467 tokens. Please reduce
  the length of either one, or use the "middle-out" transform to compress your prompt automatically.',
  'code': 'LLM_REQUEST_ERROR'}}
2025-09-12 12:24:58 | DEBUG    | logger.py:80 | 
  ‚ùå –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ search_dispatcher —Å –æ—à–∏–±–∫–æ–π: ‚ùå –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ sort_employee: Error
  code: 400 - {'error': {'traceId': '6fffa5ac-f4ac-4d72-b960-118b9cddeccd', 'message': 'HTTP request
  error: 400: This endpoint\'s maximum context length is 1047576 tokens. However, you requested about
  1362467 tokens. Please reduce the length of either one, or use the "middle-out" transform to
  compress your prompt automatically.', 'code': 'LLM_REQUEST_ERROR'}}
2025-09-12 12:24:58 | INFO     | logger.py:105 | ‚úÖ 
  –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ connect_search_dispatcher: ‚ùå –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ sort_employee:
  Error code: 400 - {'error': {'traceId': '6fffa5ac-f4ac-4d72-b960-118b9cddeccd', 'message': 'HTTP
  request error: 400: This endpoint\'s maximum context length is 1047576 tokens. However, you
  requested about 1362467 tokens. Please reduce the length of either one, or use the "middle-out"
  transform to compress your prompt automatically.', 'code': 'LLM_REQUEST_ERROR'}}
2025-09-12 12:24:58 | DEBUG    | logger.py:80 | 
  ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ connect_search_dispatcher –†–µ–∑—É–ª—å—Ç–∞—Ç: {'type': 'searchclar', 'message': '‚ùå –û—à–∏–±–∫–∞
  –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ sort_employee: Error code: 400 - {\'error\': {\'traceId\':
  \'6fffa5ac-f4ac-4d72-b960-118b9cddeccd\', \'message\': \'HTTP request error: 400: This endpoint\\\'s
  maximum context length is 1047576 tokens. However, you requested about 1362467 tokens. Please reduce
  the length of either one, or use the "middle-out" transform to compress your prompt
  automatically.\', \'code\': \'LLM_REQUEST_ERROR\'}}', 'chat_history_search': '[]'}
2025-09-12 12:24:58 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ handle_message
  –†–µ–∑—É–ª—å—Ç–∞—Ç: –°–æ–æ–±—â–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ —É—Å–ø–µ—à–Ω–æ
2025-09-12 12:27:07 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: main
2025-09-12 12:27:08 | INFO     | logger.py:89 | ‚ÑπÔ∏è ‚úÖ Webhook —É–¥–∞–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ
2025-09-12 12:27:47 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: main
2025-09-12 12:27:47 | INFO     | logger.py:89 | ‚ÑπÔ∏è ‚úÖ Webhook —É–¥–∞–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ
2025-09-12 12:28:21 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: handle_message
  –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ('–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á',)
2025-09-12 12:28:21 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: ceo_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: [{'role': 'user', 'content': '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á'}]
2025-09-12 12:28:23 | INFO     | logger.py:89 | ‚ÑπÔ∏è ceo_dispatcher, decision: search
2025-09-12 12:28:23 | INFO     | logger.py:89 | ‚ÑπÔ∏è ceo_dispatcher, decision –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ type_of_request: search, 
2025-09-12 12:28:23 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: connect_search_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ([{'role': 'user', 'content': '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π
  –§–µ–¥–æ—Ä–æ–≤–∏—á'}], [{'role': 'user', 'content': '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á'}])
2025-09-12 12:28:23 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: search_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ([{'role': 'user', 'content': '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π
  –§–µ–¥–æ—Ä–æ–≤–∏—á'}], [{'role': 'user', 'content': '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á'}])
2025-09-12 12:28:23 | INFO     | logger.py:113 | üîç –û—Ç–ø—Ä–∞–≤–ª—è—é –∑–∞–ø—Ä–æ—Å –∫ –ò–ò (—Å–æ–æ–±—â–µ–Ω–∏–π: 1)
2025-09-12 12:28:24 | INFO     | logger.py:113 | üîç –ò–ò –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é: sort_employee
2025-09-12 12:28:24 | INFO     | logger.py:113 | üîç –í—ã–ø–æ–ª–Ω—è—é sort_employee —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º: –ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á
2025-09-12 12:28:24 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: sort_employee
  –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ('–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á',)
2025-09-12 12:28:24 | INFO     | logger.py:113 | üîç –ò—â—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ —Ñ–∏–ª—å—Ç—Ä—É: '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á'
2025-09-12 12:28:24 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: call_external_api
2025-09-12 12:28:24 | INFO     | logger.py:125 | üåê –í—ã–ø–æ–ª–Ω—è—é –∑–∞–ø—Ä–æ—Å –∫ API: http://labor.tetrakom-crm-miniapp.ru/api/people
2025-09-12 12:28:25 | INFO     | logger.py:125 | üåê API –∑–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–µ–Ω, –ø–æ–ª—É—á–µ–Ω–æ 1210089 —Å–∏–º–≤–æ–ª–æ–≤
2025-09-12 12:28:25 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ call_external_api
  –†–µ–∑—É–ª—å—Ç–∞—Ç: 3
2025-09-12 12:28:26 | ERROR    | logger.py:97 | ‚ùå 
  ‚ùå –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ sort_employee: Error code: 400 - {'error': {'traceId':
  '9772f0cf-c6d8-490a-a427-389ff3cc8638', 'message': 'HTTP request error: 400: This endpoint\'s
  maximum context length is 1047576 tokens. However, you requested about 1362467 tokens. Please reduce
  the length of either one, or use the "middle-out" transform to compress your prompt automatically.',
  'code': 'LLM_REQUEST_ERROR'}}
2025-09-12 12:28:26 | DEBUG    | logger.py:80 | 
  ‚ùå –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ search_dispatcher —Å –æ—à–∏–±–∫–æ–π: ‚ùå –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ sort_employee: Error
  code: 400 - {'error': {'traceId': '9772f0cf-c6d8-490a-a427-389ff3cc8638', 'message': 'HTTP request
  error: 400: This endpoint\'s maximum context length is 1047576 tokens. However, you requested about
  1362467 tokens. Please reduce the length of either one, or use the "middle-out" transform to
  compress your prompt automatically.', 'code': 'LLM_REQUEST_ERROR'}}
2025-09-12 12:28:26 | INFO     | logger.py:105 | ‚úÖ 
  –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ connect_search_dispatcher: ‚ùå –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ sort_employee:
  Error code: 400 - {'error': {'traceId': '9772f0cf-c6d8-490a-a427-389ff3cc8638', 'message': 'HTTP
  request error: 400: This endpoint\'s maximum context length is 1047576 tokens. However, you
  requested about 1362467 tokens. Please reduce the length of either one, or use the "middle-out"
  transform to compress your prompt automatically.', 'code': 'LLM_REQUEST_ERROR'}}
2025-09-12 12:28:26 | DEBUG    | logger.py:80 | 
  ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ connect_search_dispatcher –†–µ–∑—É–ª—å—Ç–∞—Ç: {'type': 'searchclar', 'message': '‚ùå –û—à–∏–±–∫–∞
  –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ sort_employee: Error code: 400 - {\'error\': {\'traceId\':
  \'9772f0cf-c6d8-490a-a427-389ff3cc8638\', \'message\': \'HTTP request error: 400: This endpoint\\\'s
  maximum context length is 1047576 tokens. However, you requested about 1362467 tokens. Please reduce
  the length of either one, or use the "middle-out" transform to compress your prompt
  automatically.\', \'code\': \'LLM_REQUEST_ERROR\'}}', 'chat_history_search': '[]'}
2025-09-12 12:28:26 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ handle_message
  –†–µ–∑—É–ª—å—Ç–∞—Ç: –°–æ–æ–±—â–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ —É—Å–ø–µ—à–Ω–æ
2025-09-12 12:36:34 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: main
2025-09-12 12:36:35 | INFO     | logger.py:89 | ‚ÑπÔ∏è ‚úÖ Webhook —É–¥–∞–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ
2025-09-12 12:37:08 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: handle_message
  –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ('–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á',)
2025-09-12 12:37:09 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: ceo_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: [{'role': 'user', 'content': '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á'}]
2025-09-12 12:37:10 | INFO     | logger.py:89 | ‚ÑπÔ∏è ceo_dispatcher, decision: search
2025-09-12 12:37:10 | INFO     | logger.py:89 | ‚ÑπÔ∏è ceo_dispatcher, decision –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ type_of_request: search, 
2025-09-12 12:37:10 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: connect_search_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ([{'role': 'user', 'content': '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π
  –§–µ–¥–æ—Ä–æ–≤–∏—á'}], [{'role': 'user', 'content': '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á'}])
2025-09-12 12:37:10 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: search_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ([{'role': 'user', 'content': '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π
  –§–µ–¥–æ—Ä–æ–≤–∏—á'}], [{'role': 'user', 'content': '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á'}])
2025-09-12 12:37:10 | INFO     | logger.py:113 | üîç –û—Ç–ø—Ä–∞–≤–ª—è—é –∑–∞–ø—Ä–æ—Å –∫ –ò–ò (—Å–æ–æ–±—â–µ–Ω–∏–π: 1)
2025-09-12 12:37:12 | INFO     | logger.py:113 | üîç –ò–ò –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é: sort_employee
2025-09-12 12:37:12 | INFO     | logger.py:113 | üîç –í—ã–ø–æ–ª–Ω—è—é sort_employee —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º: –ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á
2025-09-12 12:37:12 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: sort_employee
  –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ('–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á',)
2025-09-12 12:37:12 | INFO     | logger.py:113 | üîç –ò—â—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ —Ñ–∏–ª—å—Ç—Ä—É: '–ï–≥–æ—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π –§–µ–¥–æ—Ä–æ–≤–∏—á'
2025-09-12 12:37:12 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: call_external_api
2025-09-12 12:37:12 | INFO     | logger.py:125 | üåê –í—ã–ø–æ–ª–Ω—è—é –∑–∞–ø—Ä–æ—Å –∫ API: http://labor.tetrakom-crm-miniapp.ru/api/people/compact
2025-09-12 12:37:12 | INFO     | logger.py:125 | üåê API –∑–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–µ–Ω, –ø–æ–ª—É—á–µ–Ω–æ 335106 —Å–∏–º–≤–æ–ª–æ–≤
2025-09-12 12:37:12 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ call_external_api
  –†–µ–∑—É–ª—å—Ç–∞—Ç: 189
2025-09-12 12:37:13 | ERROR    | logger.py:97 | ‚ùå 
  ‚ùå –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ sort_employee: Error code: 400 - {'error': {'traceId':
  '27f196d7-d561-4b11-acc2-4a58d0f4517c', 'message': 'HTTP request error: 400: This endpoint\'s
  maximum context length is 1047576 tokens. However, you requested about 1122182 tokens. Please reduce
  the length of either one, or use the "middle-out" transform to compress your prompt automatically.',
  'code': 'LLM_REQUEST_ERROR'}}
2025-09-12 12:37:13 | DEBUG    | logger.py:80 | 
  ‚ùå –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ search_dispatcher —Å –æ—à–∏–±–∫–æ–π: ‚ùå –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ sort_employee: Error
  code: 400 - {'error': {'traceId': '27f196d7-d561-4b11-acc2-4a58d0f4517c', 'message': 'HTTP request
  error: 400: This endpoint\'s maximum context length is 1047576 tokens. However, you requested about
  1122182 tokens. Please reduce the length of either one, or use the "middle-out" transform to
  compress your prompt automatically.', 'code': 'LLM_REQUEST_ERROR'}}
2025-09-12 12:37:13 | INFO     | logger.py:105 | ‚úÖ 
  –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ connect_search_dispatcher: ‚ùå –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ sort_employee:
  Error code: 400 - {'error': {'traceId': '27f196d7-d561-4b11-acc2-4a58d0f4517c', 'message': 'HTTP
  request error: 400: This endpoint\'s maximum context length is 1047576 tokens. However, you
  requested about 1122182 tokens. Please reduce the length of either one, or use the "middle-out"
  transform to compress your prompt automatically.', 'code': 'LLM_REQUEST_ERROR'}}
2025-09-12 12:37:13 | DEBUG    | logger.py:80 | 
  ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ connect_search_dispatcher –†–µ–∑—É–ª—å—Ç–∞—Ç: {'type': 'searchclar', 'message': '‚ùå –û—à–∏–±–∫–∞
  –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ sort_employee: Error code: 400 - {\'error\': {\'traceId\':
  \'27f196d7-d561-4b11-acc2-4a58d0f4517c\', \'message\': \'HTTP request error: 400: This endpoint\\\'s
  maximum context length is 1047576 tokens. However, you requested about 1122182 tokens. Please reduce
  the length of either one, or use the "middle-out" transform to compress your prompt
  automatically.\', \'code\': \'LLM_REQUEST_ERROR\'}}', 'chat_history_search': '[]'}
2025-09-12 12:37:13 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ handle_message
  –†–µ–∑—É–ª—å—Ç–∞—Ç: –°–æ–æ–±—â–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ —É—Å–ø–µ—à–Ω–æ
2025-09-12 12:46:01 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: main
2025-09-12 12:46:01 | INFO     | logger.py:89 | ‚ÑπÔ∏è ‚úÖ Webhook —É–¥–∞–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ
