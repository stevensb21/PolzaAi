
2025-09-05 16:59:24 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ main
  –†–µ–∑—É–ª—å—Ç–∞—Ç: –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω —É—Å–ø–µ—à–Ω–æ
2025-09-05 16:59:32 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: main
2025-09-05 16:59:41 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: handle_message
  –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ('–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –∑–∞–∫–∞–∂–∏ –µ–º—É –≠–ë',)
2025-09-05 16:59:42 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: ceo_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: [{'role': 'user', 'content': '–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –∑–∞–∫–∞–∂–∏ –µ–º—É
  –≠–ë'}]
2025-09-05 16:59:43 | INFO     | logger.py:89 | ‚ÑπÔ∏è ceo_dispatcher, decision: order
2025-09-05 16:59:43 | INFO     | logger.py:89 | ‚ÑπÔ∏è ceo_dispatcher, decision –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ type_of_request: order, 
2025-09-05 16:59:43 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: connect_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ([{'role': 'user', 'content': '–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –∑–∞–∫–∞–∂–∏
  –µ–º—É –≠–ë'}], [{'role': 'user', 'content': '–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –∑–∞–∫–∞–∂–∏ –µ–º—É –≠–ë'}])
2025-09-05 16:59:43 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: order_dispatcher –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ([{'role': 'user', 'content': '–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –∑–∞–∫–∞–∂–∏ –µ–º—É
  –≠–ë'}], [{'role': 'user', 'content': '–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –∑–∞–∫–∞–∂–∏ –µ–º—É –≠–ë'}])
2025-09-05 16:59:43 | DEBUG    | logger.py:85 | üîç chat_history: [] messages: [{'role': 'user', 'content': '–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –∑–∞–∫–∞–∂–∏ –µ–º—É –≠–ë'}]
2025-09-05 16:59:43 | INFO     | logger.py:89 | ‚ÑπÔ∏è –û—Ç–ø—Ä–∞–≤–ª—è—é –∑–∞–ø—Ä–æ—Å –∫ –ò–ò (—Å–æ–æ–±—â–µ–Ω–∏–π: 1)
2025-09-05 16:59:43 | DEBUG    | logger.py:85 | üîç –û—Ç–ø—Ä–∞–≤–ª—è—é 2 —Å–æ–æ–±—â–µ–Ω–∏–π –≤ API
2025-09-05 16:59:43 | DEBUG    | logger.py:85 | üîç 
  –ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: {'role': 'system', 'content': '\n –¢—ã ‚Äî –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –∑–∞–∫–∞–∑–∞ —É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏–π.\n\n
  –í–ê–ñ–ù–û: –¢—ã –î–û–õ–ñ–ï–ù –≤—ã–∑—ã–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –æ—Ç–≤–µ—á–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–º!\n –£ —Ç–µ–±—è –µ—Å—Ç—å –∏—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞:
  [{"role": "user", "content": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –∑–∞–∫–∞–∂–∏ –µ–º—É –≠–ë"}]. \n –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç: \'–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω
  –∑–∞–∫–∞–∂–∏ –µ–º—É –≠–ë\'. \n –¢–µ–±–µ –Ω—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏, –∫–∞–∫–æ–π –∑–∞–∫–∞–∑ —É—Ç–æ—á–Ω—è–µ—Ç—Å—è, –∏ –ø–µ—Ä–µ–¥–∞—Ç—å –µ–≥–æ –≤
  order_data.\n\n –£ —Ç–µ–±—è –µ—Å—Ç—å 2 —Ñ—É–Ω–∫—Ü–∏–∏:\n 1. makeOrderFormat(employee_name, certificate_name) ‚Äî
  —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞\n 2. clarification(order_data) ‚Äî —É—Ç–æ—á–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–∞\n\n –ü–†–ê–í–ò–õ–ê:\n -
  –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ü–û–õ–ù–´–ï –¥–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ (–§–ò–û, –°–ù–ò–õ–°, –ò–ù–ù, —Ç–µ–ª–µ—Ñ–æ–Ω, –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è,
  –¥–æ–ª–∂–Ω–æ—Å—Ç—å) –∏ –ø—Ä–æ—Å–∏—Ç —É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏–µ ‚Üí –≤—ã–∑—ã–≤–∞–π makeOrderFormat()\n - –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞
  –≤–æ–ø—Ä–æ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–º–æ–Ω—Ç–∞–∂–Ω–∏–∫" –Ω–∞ –≤–æ–ø—Ä–æ—Å –æ –¥–æ–ª–∂–Ω–æ—Å—Ç–∏) ‚Üí –≤—ã–∑—ã–≤–∞–π clarification() —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑
  –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–∫–∞–∑–∞\n - –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Ç–æ—á–Ω—è–µ—Ç –¥–µ—Ç–∞–ª–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∑–∞–∫–∞–∑–∞ ‚Üí –≤—ã–∑—ã–≤–∞–π
  clarification()\n - –ù–ò–ö–û–ì–î–ê –Ω–µ –æ—Ç–≤–µ—á–∞–π –æ–±—ã—á–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º, –í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π —Ñ—É–Ω–∫—Ü–∏–∏!\n\n - –ï—Å–ª–∏
  –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç –°–î–ï–õ–ê–¢–¨ –ù–û–í–´–ô –ó–ê–ö–ê–ó ‚Üí –≤—ã–∑—ã–≤–∞–π makeOrderFormat().\n ‚Ä¢ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–µ—Ä–Ω–∏ JSON –≤
  —Ñ–æ—Ä–º–∞—Ç–µ:\n {\n "employee_name": "–§–ò–û —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞",\n "certificate_name": ["–ù–∞–∑–≤–∞–Ω–∏–µ —É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏—è"]\n
  }\n ‚Ä¢ –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π –º–∞—Å—Å–∏–≤ –¥–ª—è certificate_name, –¥–∞–∂–µ –µ—Å–ª–∏ —É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏–µ –æ–¥–Ω–æ.\n\n - –ï—Å–ª–∏
  –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Ç–æ—á–Ω—è–µ—Ç –¥–µ—Ç–∞–ª–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∑–∞–∫–∞–∑–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–∞ –µ—â—ë –¥–æ–±–∞–≤—å –ü–ë–û", "–Ω–µ –ï–≥–æ—Ä–æ–≤, –∞
  –ï–≥–æ—Ä–æ–≤ –ò–≤–∞–Ω", "–Ω—É–∂–Ω–æ 2 —É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏—è") ‚Üí –≤—ã–∑—ã–≤–∞–π clarification().\n ‚Ä¢ –í clarification() –≤—Å–µ–≥–¥–∞
  –ø–µ—Ä–µ–¥–∞–≤–∞–π:\n - messages ‚Üí —Ç–µ–∫—Å—Ç —É—Ç–æ—á–Ω–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\n - order_data ‚Üí JSON –∑–∞–∫–∞–∑–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ
  —É—Ç–æ—á–Ω–∏—Ç—å (–ø–æ –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–∞ –≤ chat_history —Ç–µ–±–µ –Ω—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å –∫–∞–∫–æ–π –∑–∞–∫–∞–∑ –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å) –¢–µ–±–µ
  –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —ç—Ç–æ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç –≤ —Ñ—É–Ω–∫—Ü–∏—é\n –∑–∞–∫–∞–∑ –≤—ã–≥–ª—è–¥–∏—Ç –≤ –≤–∏–¥–µ json –ø—Ä–∏–º–µ—Ä–Ω–æ –≤–æ—Ç —Ç–∞–∫
  {\'type\': \'–ü–†–ò–ú–ï–†\', \'employee\': {\'full_name\': \'–ü–†–ò–ú–ï–†\', \'snils\': \'–ü–†–ò–ú–ï–†\', \'inn\':
  \'–ü–†–ò–ú–ï–†\', \'position\': None, \'birth_date\': \'–ü–†–ò–ú–ï–†\', \'phone\': \'–ü–†–ò–ú–ï–†\'}, \'certificate\':
  [\'–ü–†–ò–ú–ï–†\'], \'status\': \'–ü–†–ò–ú–ï–†\', \'message\': \'–ü–†–ò–ú–ï–†\'}\n - –ñ–ï–°–¢–ö–û–ï –ü–†–ê–í–ò–õ–û: –æ—Ç–≤–µ—á–∞–π —Ç–æ–ª—å–∫–æ
  JSON –≤ —Ñ–æ—Ä–º–∞—Ç–µ:\n\n - –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç –°–î–ï–õ–ê–¢–¨ –ù–û–í–´–ô –ó–ê–ö–ê–ó ‚Üí –≤—ã–∑—ã–≤–∞–π makeOrderFormat().\n
  –ü—Ä–∏–º–µ—Ä—ã:\n –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–°–∞–±–∏—Ä–æ–≤ –†—É—Å—Ç–µ–º, –°–ù–ò–õ–° 195-071-028-66, –Ω—É–∂–Ω–æ —É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏–µ –≤—ã—Å–æ—Ç—ã"\n –û—Ç–≤–µ—Ç:
  makeOrderFormat({"employee_name": "–°–∞–±–∏—Ä–æ–≤ –†—É—Å—Ç–µ–º –†–∞—Ñ–∏—Å–æ–≤–∏—á", "certificate_name": ["—É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏–µ
  –≤—ã—Å–æ—Ç—ã"]})\n\n –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–∑–∞–∫–∞–∑–∞—Ç—å –ï–≥–æ—Ä–æ–≤—É –≠–ë"\n –û—Ç–≤–µ—Ç: makeOrderFormat({"employee_name":
  "–ï–≥–æ—Ä–æ–≤", "certificate_name": ["–≠–ë"]})\n\n –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–∏ –µ—â—ë –¥–æ–±–∞–≤—å –ë–°–ò–ó"\n –û—Ç–≤–µ—Ç:
  clarification(messages="–∏ –µ—â—ë –¥–æ–±–∞–≤—å –ë–°–ò–ó", order_data={"employee_name": "–ï–≥–æ—Ä–æ–≤",
  "certificate_name": ["–≠–ë"]})\n\n –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–º–æ–Ω—Ç–∞–∂–Ω–∏–∫" (–æ—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å –æ –¥–æ–ª–∂–Ω–æ—Å—Ç–∏)\n –û—Ç–≤–µ—Ç:
  clarification(messages="–º–æ–Ω—Ç–∞–∂–Ω–∏–∫", order_data={"employee_name": "–°–∞–±–∏—Ä–æ–≤ –†—É—Å—Ç–µ–º –†–∞—Ñ–∏—Å–æ–≤–∏—á",
  "certificate_name": ["–æ–±—É—á–µ–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ –ª–µ—Å–∞—Ö"]})\n\n –í–ê–ñ–ù–û: –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π –º–∞—Å—Å–∏–≤ –¥–ª—è
  certificate_name, –¥–∞–∂–µ –µ—Å–ª–∏ —É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏–µ –æ–¥–Ω–æ!\n '}
2025-09-05 16:59:43 | DEBUG    | logger.py:85 | üîç –ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: {'role': 'user', 'content': '–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –∑–∞–∫–∞–∂–∏ –µ–º—É –≠–ë'}
2025-09-05 16:59:46 | INFO     | logger.py:89 | ‚ÑπÔ∏è –û—Ç–≤–µ—Ç –ò–ò: 
2025-09-05 16:59:46 | INFO     | logger.py:89 | ‚ÑπÔ∏è –ò–ò —Ö–æ—á–µ—Ç –≤—ã–∑–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: 1
2025-09-05 16:59:46 | INFO     | logger.py:89 | ‚ÑπÔ∏è –í—ã–∑—ã–≤–∞—é –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: makeOrderFormat
2025-09-05 16:59:46 | DEBUG    | logger.py:85 | üîç employee_name: –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω, certificate_name: ['–≠–ë']
2025-09-05 16:59:46 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: makeOrderFormat –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ([{'role': 'user', 'content': '–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –∑–∞–∫–∞–∂–∏ –µ–º—É
  –≠–ë'}], '–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω', ['–≠–ë'])
2025-09-05 16:59:46 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: sort_employee
  –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ('–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω',)
2025-09-05 16:59:46 | INFO     | logger.py:113 | üîç –ò—â—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ —Ñ–∏–ª—å—Ç—Ä—É: '–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω'
2025-09-05 16:59:46 | DEBUG    | logger.py:66 | üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: call_external_api
2025-09-05 16:59:46 | INFO     | logger.py:125 | üåê –í—ã–ø–æ–ª–Ω—è—é –∑–∞–ø—Ä–æ—Å –∫ API: http://labor.tetrakom-crm-miniapp.ru/api/people
2025-09-05 16:59:46 | INFO     | logger.py:125 | üåê API –∑–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–µ–Ω, –ø–æ–ª—É—á–µ–Ω–æ 33292 —Å–∏–º–≤–æ–ª–æ–≤
2025-09-05 16:59:46 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ call_external_api
  –†–µ–∑—É–ª—å—Ç–∞—Ç: 3
2025-09-05 17:00:01 | INFO     | logger.py:105 | ‚úÖ 
  –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤: { "data": { "id": 6, "full_name": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á", "position":
  "–ò–Ω–∂–µ–Ω–µ—Ä", "phone": "+7-999-123-45-67", "snils": "123-456-789-01", "inn": "123456789012",
  "birth_date": "1990-01-01T00:00:00.000000Z", "all_certificates": [ { "id": 2, "name": "–í–ò–¢–† (–û–¢)",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ", "expiry_date": 1, "created_at": "2025-08-25T12:47:45.000000Z",
  "updated_at": "2025-08-25T12:47:45.000000Z", "is_assigned": false, "assigned_data": null }, { "id":
  3, "name": "–ü–ë–û", "description": "–û–ø–∏—Å–∞–Ω–∏–µ", "expiry_date": 3, "created_at":
  "2025-08-25T12:47:45.000000Z", "updated_at": "2025-08-25T12:47:45.000000Z", "is_assigned": false,
  "assigned_data": null }, { "id": 4, "name": "–ê–ë–ì", "description": "–û–ø–∏—Å–∞–Ω–∏–µ", "expiry_date": 3,
  "created_at": "2025-08-25T12:47:45.000000Z", "updated_at": "2025-08-25T12:47:45.000000Z",
  "is_assigned": false, "assigned_data": null }, { "id": 5, "name": "–ü–µ—Ä–≤–∞—è –ü–æ–º–æ—â—å", "description":
  "–û–ø–∏—Å–∞–Ω–∏–µ", "expiry_date": 3, "created_at": "2025-08-25T12:47:45.000000Z", "updated_at":
  "2025-08-25T12:47:45.000000Z", "is_assigned": false, "assigned_data": null }, { "id": 6, "name":
  "–ü–ë–ò", "description": "–û–ø–∏—Å–∞–Ω–∏–µ", "expiry_date": 3, "created_at": "2025-08-25T12:47:45.000000Z",
  "updated_at": "2025-08-25T12:47:45.000000Z", "is_assigned": false, "assigned_data": null }, { "id":
  7, "name": "–≠–ë", "description": "–û–ø–∏—Å–∞–Ω–∏–µ", "expiry_date": 1, "created_at":
  "2025-08-25T12:47:45.000000Z", "updated_at": "2025-08-25T12:47:45.000000Z", "is_assigned": false,
  "assigned_data": null }, { "id": 8, "name": "–í–õ (–û–¢)", "description": "–û–ø–∏—Å–∞–Ω–∏–µ", "expiry_date": 3,
  "created_at": "2025-08-25T12:47:45.000000Z", "updated_at": "2025-08-25T12:47:45.000000Z",
  "is_assigned": false, "assigned_data": null }, { "id": 9, "name": "5.9.3", "description": null,
  "expiry_date": 3, "created_at": "2025-08-25T12:47:45.000000Z", "updated_at":
  "2025-08-25T12:47:45.000000Z", "is_assigned": false, "assigned_data": null }, { "id": 10, "name":
  "5.9.4", "description": null, "expiry_date": 3, "created_at": "2025-08-25T12:47:45.000000Z",
  "updated_at": "2025-08-25T12:47:45.000000Z", "is_assigned": false, "assigned_data": null }, { "id":
  11, "name": "–õ—é–ª—å–∫–∏", "description": "–û–ø–∏—Å–∞–Ω–∏–µ", "expiry_date": 3, "created_at":
  "2025-08-25T12:47:45.000000Z", "updated_at": "2025-08-25T12:47:45.000000Z", "is_assigned": false,
  "assigned_data": null }, { "id": 12, "name": "5.1.9", "description": null, "expiry_date": 3,
  "created_at": "2025-08-25T12:47:45.000000Z", "updated_at": "2025-08-25T12:47:45.000000Z",
  "is_assigned": false, "assigned_data": null }, { "id": 13, "name": "5.1.10", "description": null,
  "expiry_date": 3, "created_at": "2025-08-25T12:47:45.000000Z", "updated_at":
  "2025-08-25T12:47:45.000000Z", "is_assigned": false, "assigned_data": null }, { "id": 14, "name":
  "5.1.11", "description": null, "expiry_date": 3, "created_at": "2025-08-25T12:47:45.000000Z",
  "updated_at": "2025-08-25T12:47:45.000000Z", "is_assigned": false, "assigned_data": null }, { "id":
  15, "name": "–í—ã—Å–æ—Ç–∞(—Ä–∞–±–æ—á–∞—è, 2–≥—Ä)", "description": "–û–ø–∏—Å–∞–Ω–∏–µ", "expiry_date": 3, "created_at":
  "2025-08-25T12:47:45.000000Z", "updated_at": "2025-08-25T12:47:45.000000Z", "is_assigned": false,
  "assigned_data": null }, { "id": 16, "name": "–í—ã—Å–æ—Ç–∞(–ò–¢–†, 3–≥—Ä)", "description": "–û–ø–∏—Å–∞–Ω–∏–µ",
  "expiry_date": 5, "created_at": "2025-08-25T12:47:45.000000Z", "updated_at":
  "2025-08-25T12:47:45.000000Z", "is_assigned": false, "assigned_data": null }, { "id": 17, "name":
  "–ë–°–ò–ó", "description": "–û–ø–∏—Å–∞–Ω–∏–µ", "expiry_date": 3, "created_at": "2025-08-25T12:47:45.000000Z",
  "updated_at": "2025-08-25T12:47:45.000000Z", "is_assigned": false, "assigned_data": null }, { "id":
  1, "name": "A1", "description": "–û–ø–∏—Å–∞–Ω–∏–µ", "expiry_date": 5, "created_at":
  "2025-08-25T12:47:45.000000Z", "updated_at": "2025-08-27T10:40:33.000000Z", "is_assigned": false,
  "assigned_data": null } ] } }
2025-09-05 17:00:01 | INFO     | logger.py:105 | ‚úÖ –ü–æ–∏—Å–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω
2025-09-05 17:00:01 | DEBUG    | logger.py:80 | 
  ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ sort_employee –†–µ–∑—É–ª—å—Ç–∞—Ç: { "data": { "id": 6, "full_name": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω
  –ò–≤–∞–Ω–æ–≤–∏—á", "position": "–ò... (–æ–±—Ä–µ–∑–∞–Ω–æ)
2025-09-05 17:00:01 | DEBUG    | logger.py:85 | üîç sort_employee –≤–µ—Ä–Ω—É–ª: <class 'str'>
2025-09-05 17:00:01 | DEBUG    | logger.py:85 | üîç 
  –°–æ–¥–µ—Ä–∂–∏–º–æ–µ json_people: { "data": { "id": 6, "full_name": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á", "position":
  "–ò–Ω–∂–µ–Ω–µ—Ä", "phone": "+7-999-123-45-67", "snils": "123-456-789-01", "inn": "123456789012",
  "birth_date": "1990-01-01T00:00:00.000000Z", "all_certificates": [ { "id": 2, "name": "–í–ò–¢–† (–û–¢)",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ", "expiry_date": 1, "created_at": "2025-08-25T12:47:45.000000Z",
  "updated_at": "2025-08-25T12:47:45.000000Z", "is_assigned": false, "assigned_data": null }, { "id":
  3, "name": "–ü–ë–û", "description": "–û–ø–∏—Å–∞–Ω–∏–µ", "expiry_date": 3, "created_at":
  "2025-08-25T12:47:45.000000Z", "updated_at": "2025-08-25T12:47:45.000000Z", "is_assigned": false,
  "assigned_data": null }, { "id": 4, "name": "–ê–ë–ì", "description": "–û–ø–∏—Å–∞–Ω–∏–µ", "expiry_date": 3,
  "created_at": "2025-08-25T12:47:45.000000Z", "updated_at": "2025-08-25T12:47:45.000000Z",
  "is_assigned": false, "assigned_data": null }, { "id": 5, "name": "–ü–µ—Ä–≤–∞—è –ü–æ–º–æ—â—å", "description":
  "–û–ø–∏—Å–∞–Ω–∏–µ", "expiry_date": 3, "created_at": "2025-08-25T12:47:45.000000Z", "updated_at":
  "2025-08-25T12:47:45.000000Z", "is_assigned": false, "assigned_data": null }, { "id": 6, "name":
  "–ü–ë–ò", "description": "–û–ø–∏—Å–∞–Ω–∏–µ", "expiry_date": 3, "created_at": "2025-08-25T12:47:45.000000Z",
  "updated_at": "2025-08-25T12:47:45.000000Z", "is_assigned": false, "assigned_data": null }, { "id":
  7, "name": "–≠–ë", "description": "–û–ø–∏—Å–∞–Ω–∏–µ", "expiry_date": 1, "created_at":
  "2025-08-25T12:47:45.000000Z", "updated_at": "2025-08-25T12:47:45.000000Z", "is_assigned": false,
  "assigned_data": null }, { "id": 8, "name": "–í–õ (–û–¢)", "description": "–û–ø–∏—Å–∞–Ω–∏–µ", "expiry_date": 3,
  "created_at": "2025-08-25T12:47:45.000000Z", "updated_at": "2025-08-25T12:47:45.000000Z",
  "is_assigned": false, "assigned_data": null }, { "id": 9, "name": "5.9.3", "description": null,
  "expiry_date": 3, "created_at": "2025-08-25T12:47:45.000000Z", "updated_at":
  "2025-08-25T12:47:45.000000Z", "is_assigned": false, "assigned_data": null }, { "id": 10, "name":
  "5.9.4", "description": null, "expiry_date": 3, "created_at": "2025-08-25T12:47:45.000000Z",
  "updated_at": "2025-08-25T12:47:45.000000Z", "is_assigned": false, "assigned_data": null }, { "id":
  11, "name": "–õ—é–ª—å–∫–∏", "description": "–û–ø–∏—Å–∞–Ω–∏–µ", "expiry_date": 3, "created_at":
  "2025-08-25T12:47:45.000000Z", "updated_at": "2025-08-25T12:47:45.000000Z", "is_assigned": false,
  "assigned_data": null }, { "id": 12, "name": "5.1.9", "description": null, "expiry_date": 3,
  "created_at": "2025-08-25T12:47:45.000000Z", "updated_at": "2025-08-25T12:47:45.000000Z",
  "is_assigned": false, "assigned_data": null }, { "id": 13, "name": "5.1.10", "description": null,
  "expiry_date": 3, "created_at": "2025-08-25T12:47:45.000000Z", "updated_at":
  "2025-08-25T12:47:45.000000Z", "is_assigned": false, "assigned_data": null }, { "id": 14, "name":
  "5.1.11", "description": null, "expiry_date": 3, "created_at": "2025-08-25T12:47:45.000000Z",
  "updated_at": "2025-08-25T12:47:45.000000Z", "is_assigned": false, "assigned_data": null }, { "id":
  15, "name": "–í—ã—Å–æ—Ç–∞(—Ä–∞–±–æ—á–∞—è, 2–≥—Ä)", "description": "–û–ø–∏—Å–∞–Ω–∏–µ", "expiry_date": 3, "created_at":
  "2025-08-25T12:47:45.000000Z", "updated_at": "2025-08-25T12:47:45.000000Z", "is_assigned": false,
  "assigned_data": null }, { "id": 16, "name": "–í—ã—Å–æ—Ç–∞(–ò–¢–†, 3–≥—Ä)", "description": "–û–ø–∏—Å–∞–Ω–∏–µ",
  "expiry_date": 5, "created_at": "2025-08-25T12:47:45.000000Z", "updated_at":
  "2025-08-25T12:47:45.000000Z", "is_assigned": false, "assigned_data": null }, { "id": 17, "name":
  "–ë–°–ò–ó", "description": "–û–ø–∏—Å–∞–Ω–∏–µ", "expiry_date": 3, "created_at": "2025-08-25T12:47:45.000000Z",
  "updated_at": "2025-08-25T12:47:45.000000Z", "is_assigned": false, "assigned_data": null }, { "id":
  1, "name": "A1", "description": "–û–ø–∏—Å–∞–Ω–∏–µ", "expiry_date": 5, "created_at":
  "2025-08-25T12:47:45.000000Z", "updated_at": "2025-08-27T10:40:33.000000Z", "is_assigned": false,
  "assigned_data": null } ] } }
2025-09-05 17:00:01 | DEBUG    | logger.py:85 | üîç –ü–æ—Å–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON: <class 'dict'>
2025-09-05 17:00:01 | DEBUG    | logger.py:85 | üîç data type: <class 'dict'>, length: not list
2025-09-05 17:00:01 | DEBUG    | logger.py:85 | üîç Extracted from data dict: –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á, 123-456-789-01, 123456789012
2025-09-05 17:00:01 | DEBUG    | logger.py:85 | üîç 
  –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π order_json: {'type': 'readyorder', 'employee': {'full_name': '–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á',
  'snils': '123-456-789-01', 'inn': '123456789012', 'position': '–ò–Ω–∂–µ–Ω–µ—Ä', 'birth_date':
  '1990-01-01T00:00:00.000000Z', 'phone': '+7-999-123-45-67'}, 'certificate': ['–≠–ë'], 'status':
  'pending'}
2025-09-05 17:00:01 | DEBUG    | logger.py:80 | 
  ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ makeOrderFormat –†–µ–∑—É–ª—å—Ç–∞—Ç: {'type': 'readyorder', 'employee': {'full_name':
  '–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á', 'snils': '123-456-789-01', 'inn': '123456789012', 'position': '–ò–Ω–∂–µ–Ω–µ—Ä',
  'birth_date': '1990-01-01T00:00:00.000000Z', 'phone': '+7-999-123-45-67'}, 'certificate': ['–≠–ë'],
  'status': 'pending'}
2025-09-05 17:00:01 | DEBUG    | logger.py:85 | üîç 
  result makeOrderFormat from order_dispatcher: {'type': 'readyorder', 'employee': {'full_name':
  '–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á', 'snils': '123-456-789-01', 'inn': '123456789012', 'position': '–ò–Ω–∂–µ–Ω–µ—Ä',
  'birth_date': '1990-01-01T00:00:00.000000Z', 'phone': '+7-999-123-45-67'}, 'certificate': ['–≠–ë'],
  'status': 'pending'}
2025-09-05 17:00:01 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: addToDatabase –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ({'type': 'readyorder', 'employee': {'full_name': '–ò–≤–∞–Ω–æ–≤
  –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á', 'snils': '123-456-789-01', 'inn': '123456789012', 'position': '–ò–Ω–∂–µ–Ω–µ—Ä',
  'birth_date': '1990-01-01T00:00:00.000000Z', 'phone': '+7-999-123-45-67'}, 'certificate': ['–≠–ë'],
  'status': 'pending'},)
2025-09-05 17:00:01 | INFO     | logger.py:89 | ‚ÑπÔ∏è 
  –û—Ç–ø—Ä–∞–≤–ª—è—é –¥–∞–Ω–Ω—ã–µ –≤ API: { "full_name": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á", "position": "–ò–Ω–∂–µ–Ω–µ—Ä", "phone":
  "+7-999-123-45-67", "snils": "123-456-789-01", "inn": "123456789012", "birth_date":
  "1990-01-01T00:00:00.000000Z", "status": "–í –æ–∂–∏–¥–∞–Ω–∏–∏" }
2025-09-05 17:00:02 | INFO     | logger.py:105 | ‚úÖ –ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
2025-09-05 17:00:02 | DEBUG    | logger.py:80 | 
  ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ addToDatabase –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –ó–∞–∫–∞–∑ –¥–ª—è –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω –≤ –±–∞–∑—É
  –¥–∞–Ω–Ω—ã—Ö —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º '–í –æ–∂–∏–¥–∞–Ω–∏–∏'
2025-09-05 17:00:02 | DEBUG    | logger.py:66 | 
  üöÄ –í—Ö–æ–¥ –≤ —Ñ—É–Ω–∫—Ü–∏—é: updatePerson –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ({'type': 'readyorder', 'employee': {'full_name': '–ò–≤–∞–Ω–æ–≤
  –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á', 'snils': '123-456-789-01', 'inn': '123456789012', 'position': '–ò–Ω–∂–µ–Ω–µ—Ä',
  'birth_date': '1990-01-01T00:00:00.000000Z', 'phone': '+7-999-123-45-67'}, 'certificate': ['–≠–ë'],
  'status': 'pending'},)
2025-09-05 17:00:02 | INFO     | logger.py:89 | ‚ÑπÔ∏è –ü–∞—Ä—Å–∏–º –≤—Å–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã: <coroutine object parsAllCertificates at 0x0000024E23FE3BA0>
2025-09-05 17:00:02 | DEBUG    | logger.py:80 | 
  ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ order_dispatcher –†–µ–∑—É–ª—å—Ç–∞—Ç: –ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ò–≤–∞–Ω–æ–≤
  –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á —Å —É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏–µ–º ['–≠–ë'] ... (–æ–±—Ä–µ–∑–∞–Ω–æ)
2025-09-05 17:00:02 | DEBUG    | logger.py:80 | 
  ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ connect_dispatcher –†–µ–∑—É–ª—å—Ç–∞—Ç: {'type': 'orderready', 'message': " –ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω
  –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö \n –¥–ª—è –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á \n —Å —É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏–µ–º ['–≠–ë']\n \n –°–ù–ò–õ–°:
  123-456-789-01 \n –ò–ù–ù: 123456789012 \n –î–æ–ª–∂–Ω–æ—Å—Ç—å: –ò–Ω–∂–µ–Ω–µ—Ä \n –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è: 01.01.1990 \n –¢–µ–ª–µ—Ñ–æ–Ω:
  +7-999-123-45-67 ", 'chat_history_order': '[\n {\n "role": "assistant",\n "content":
  "{\\"message\\": \\" –ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö \\\\n –¥–ª—è –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á \\\\n —Å
  —É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏–µ–º [\'–≠–ë\']\\\\n \\\\n –°–ù–ò–õ–°: 123-456-789-01 \\\\n –ò–ù–ù: 123456789012 \\\\n –î–æ–ª–∂–Ω–æ—Å—Ç—å:
  –ò–Ω–∂–µ–Ω–µ—Ä \\\\n –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è: 01.01.1990 \\\\n –¢–µ–ª–µ—Ñ–æ–Ω: +7-999-123-45-67 \\"}"\n }\n]'}
2025-09-05 17:00:02 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ handle_message
  –†–µ–∑—É–ª—å—Ç–∞—Ç: –°–æ–æ–±—â–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ —É—Å–ø–µ—à–Ω–æ
2025-09-05 17:01:47 | DEBUG    | logger.py:80 | ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ main
  –†–µ–∑—É–ª—å—Ç–∞—Ç: –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω —É—Å–ø–µ—à–Ω–æ
